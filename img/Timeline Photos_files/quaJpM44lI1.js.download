if (self.CavalryLogger) { CavalryLogger.start_js(["RllD4"]); }

__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f){var g="notification",h="list_",i={},j=!1;e.exports={init:function(){if(j)return;b("Stratcom").listen("click",g,k);b("Stratcom").listen("m:page:render:cache:complete",null,l);j=!0}};function k(a){var c=a.getNode("touchable");if(!c)return;var d=b("MLegacyDataStore").get(c).notif_id;if(d==null||d=="")return;new(b("MRequest"))("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:d,target_id:b("MLegacyDataStore").get(c).target_id}).send();m(a)}function l(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in i)n(b)}function m(a){a=a.getNode("marea");if(!a)return;a=a.getAttribute("id");if(a==null||a=="")return;n(a);var b=a.startsWith(h)?a.substring(h.length):h+a;n(b);i[a]=!0;i[b]=!0}function n(a){a=document.getElementById(a);a&&(b("CSS").addClass(a,"acw"),b("CSS").removeClass(a,"aclb"))}}),null);
__d("MNTQuickPromotionCloseActionHandler",["CSS","DOM","XAsyncRequest"],(function(a,b,c,d,e,f){a={_closeCallbacks:{},performAction:function(a){this._closeCallbacks[a.promotion_id]()},setCloseCallbackForEmbeddedPromo:function(a,c,d){this._closeCallbacks[a]=function(){var e=document.getElementById(a.toString());e&&b("CSS").hide(e);if(c&&d){e=b("DOM").find(document.body,"div",c);if(e){e=b("DOM").find(e,"div",d);e&&b("CSS").show(e)}}}},setCloseCallbackForFullscreenPromo:function(a,c){this._closeCallbacks[a]=function(){new(b("XAsyncRequest"))(c).send()}}};e.exports=a}),null);