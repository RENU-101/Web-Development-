if (self.CavalryLogger) { CavalryLogger.start_js(["oCB9e"]); }

__d("MEfsAutoSave",["MAjaxify","MAjaxifyFormTypes","Stratcom","destroyOnUnload","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=!1,h=500,i;function j(a){i=null,b("MAjaxify").form(null,a,null,b("MAjaxifyFormTypes").NOCACHE,null,!0)}function k(a){clearTimeout(i),i=b("setTimeoutAcrossTransitions")(j.bind(null,a),h)}function a(){if(g)return;g=!0;var a=b("Stratcom").listen("click","efs-item",function(a){k(a.getNode("tag:form"))});b("destroyOnUnload")(function(){a&&(a.remove(),a=null,g=!1)})}f.main=a;f.autosaveForm=k}),null);
__d("MEfsFollowButtons",["DOM","Popover","Stratcom","$"],(function(a,b,c,d,e,f){a=function(a){var c=[a.verb];a.verb=="like"&&c.push("subscribe");var d=b("Stratcom").listen("click",a.wrapper_elem,function(d){for(var e=0;e<c.length;++e){var f=c[e];d.getNode("subscribe")?b("Stratcom").invoke("subscription/"+f,null,a.subject_id):d.getNode("unsubscribe")&&b("Stratcom").invoke("subscription/un"+f,null,a.subject_id)}});b("Stratcom").listen("subscription/"+c[0],null,function(b){b.getData()===a.subject_id&&e(a.subject_id,c[0],"subscribe")});b("Stratcom").listen("subscription/un"+c[0],null,function(b){b.getData()===a.subject_id&&e(a.subject_id,c[0],"unsubscribe")});b("Stratcom").listen("m:page:unload",null,function(){b("Stratcom").removeCurrentListener(),b("Popover").clearAll(),d.remove()});function e(c,d,e){d=d+"_"+c;c=b("$")("sub_btn_"+d);d=b("$")("unsub_btn_"+d);if(!a.hide_flyout)var f=b("DOM").find(d,"div","popover"),g=b("Popover").getInstance(f.id);e=="subscribe"?(b("DOM").hide(c),b("DOM").show(d),!a.hide_flyout&&a.auto_show_flyout&&g.open()):e=="unsubscribe"&&(a.hide_flyout||g.close(),b("DOM").hide(d),b("DOM").show(c))}};f.main=a}),null);
__d("MAddFriendButtonClickLogger",["DOM","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("DOM").listen(a,"click",null,function(){var a=new(b("WebFunnelLogger"))("MtouchReactorListActionWebFunnelDefinition").setAction("click_add_friend_button").setSessionKey(c);d!==null&&d!==void 0&&a.setFunnelTags([d]);a.log()})}f.onClickListener=a}),null);
__d("MFriendEditLists",["DOM","MEfsAutoSave","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f){function g(a,c){var d=a.getTarget();if(d.checked){d=b("DOM").find(document,"label",c);c=b("DOM").find(d,"input");c.checked=!1}b("MEfsAutoSave").autosaveForm(a.getNode("tag:form"))}function a(){var a=[b("Stratcom").listen("click","efs-close-friends",function(a){g(a,"efs-acquaintances")}),b("Stratcom").listen("click","efs-acquaintances",function(a){g(a,"efs-close-friends")})];b("destroyOnUnload")(function(){while(a.length)a.pop().remove()})}f.main=a}),null);
__d("MMessageButtonClickLogger",["DOM","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("DOM").listen(a,"click",null,function(){var a=new(b("WebFunnelLogger"))("MtouchReactorListActionWebFunnelDefinition").setAction("click_message_button").setSessionKey(c);d!==null&&d!==void 0&&a.setFunnelTags([d]);a.markEnd().log()})}f.onClickListener=a}),null);
__d("MMessageButtonRenderAttachmentDialog",["DOM","MFeedShareAnalytics","MModalDialog"],(function(a,b,c,d,e,f){"use strict";var g="send-message-with-attachment";function a(a,c){b("MModalDialog").init(),b("MFeedShareAnalytics").init(),b("DOM").listen(c,"click",g,function(){h(a)})}function h(a){i(a)}function i(a){b("MModalDialog").open(a,j)}function j(a){!!a&&a.canceled&&b("MFeedShareAnalytics").onShareAbandoned()}f.init=a}),null);
__d("MFlyoutNotifyMeSelector",["MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f){var g,h="notify-me-selector";a={registerListener:function(){if(g)return;g=b("Stratcom").listen("click",[h,"tag:input"],function(a){var c=a.getNode("tag:input");a=b("MLegacyDataStore").get(a.getNode(h));c=c.checked?a.enableNotification:a.disableNotification;new(b("MRequest"))(c).setMethod("POST").send()});b("Stratcom").listen("m:page:unload",null,function(){g&&g.remove(),g=null,b("Stratcom").removeCurrentListener()})}};e.exports=a}),null);
__d("MPushNotificationSettings",["DOM","MAjaxify","MAjaxifyFormTypes","Popover","Stratcom","$"],(function(a,b,c,d,e,f){var g=!1;a=function(){if(g)return;g=!0;b("Stratcom").listen("change","pushSelector",function(a){var c=a.getNode("tag:form");b("MAjaxify").form(null,c,null,b("MAjaxifyFormTypes").NOCACHE,null,!0);c=a.getNode("push_settings_flyout");c=b("Popover").getInstance(c.id);c.close();c=a.getNode("settings_checkbox");c.value==="0"?(b("DOM").hide(b("$")("push_settings_button_on")),b("DOM").show(b("$")("push_settings_button_off"))):(b("DOM").show(b("$")("push_settings_button_on")),b("DOM").hide(b("$")("push_settings_button_off")))})};f.main=a}),null);
__d("MPopover",["MRequest","MURI","Popover","Stratcom"],(function(a,b,c,d,e,f){function a(a){var c=new(b("Popover"))(a),d=[c.listen("open",function(){b("Stratcom").invoke(":m:page-header-right:open");if(a.sessionTime){var c=new(b("MURI"))("/a/friendlists/log/").setQueryData({subject_id:a.subjectID,ref_param:a.refParam,session_time:a.sessionTime});new(b("MRequest"))(c.toString()).send()}}),c.listen("close",function(){b("Stratcom").invoke(":m:page-header-right:close")}),b("Stratcom").listen("click","flyout",function(){c&&c.close()}),b("Stratcom").listen("m:page:unload",null,function(){while(d&&d.length)d.pop().remove();d=null;c=null})]}f.main=a}),null);
__d("MUFIReactionsProfileBrowserImpl",["csx","cx","CSS","DOM","Locale","MLegacyDataStore","MRequest","Parent","Stratcom","Style","SubscriptionsHandler","UFIReactionTypes"],(function(a,b,c,d,e,f,g,h){var i="#5890ff";a=function(){"use strict";function a(a,c,d,e){this.container=a;this.config=c;this.selected=d;this.tabSigil=e;this.highlight=b("DOM").create("div",{className:"_10tl"});this.setSelected(this.selected,!0);this.config[this.selected].requested=!0;this.container.appendChild(this.highlight);var f=new(b("SubscriptionsHandler"))();f.addSubscriptions((a=b("Stratcom")).listen("click",e,this.onClick.bind(this)),a.listen("m:page:unload",null,function(){f.release()}),a.listen("m:feed-ufi-flyout:reset",null,function(){f.release()}),a.listen("m:feed-ufi-flyout:cache-reset",null,function(){f.release()}))}var c=a.prototype;c.setSelected=function(a,c){c===void 0&&(c=!1);this.selected!==null&&(b("CSS").addClass(this.config[this.selected].content,"hidden_elem"),b("Style").set(this.config[this.selected].tab,"color",""));var d=this.config[a];b("CSS").removeClass(d.content,"hidden_elem");if(!d.requested&&!c){c=new(b("MRequest"))(d.uri);c.listen("done",function(){b("CSS").removeClass(d.content,"_10tm")});c.send();d.requested=!0}c=b("Parent").bySelector(d.tab,"._10tn");var e=a&&b("UFIReactionTypes").reactions[a];e=e&&e.color||i;if(c instanceof HTMLElement){var f={background:e,width:c.offsetWidth+"px",left:c.offsetLeft+"px",right:null};if(b("Locale").isRTL()){var g=c.parentNode;if(g instanceof Element){g=g.getBoundingClientRect();c=c.getBoundingClientRect();f.right=g.right-c.right+"px";f.left=null}}b("Style").apply(this.highlight,f)}b("Style").set(d.tab,"color",e);this.selected=a};c.onClick=function(a){a=a.getNode(this.tabSigil);if(a==null)return;a=b("MLegacyDataStore").get(a).reactionType;this.setSelected(a)};return a}();e.exports=a}),null);